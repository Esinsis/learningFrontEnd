<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>DOM</title>
    <script type="text/javascript">
        /**
         * 节点：Node -- 构成HTML文档最基本的单元
         * 常用的节点分类
         *  - 文档节点： 整个HTML文档
         *  - 元素节点： HTML文档中的HTML标签
         *  - 属性节点： 元素的属性
         *  - 文本节点： HTML标签中的文本内容
         */

        window.onload = function () {
            console.log("aaa");
        }
    </script>
</head>
<body>
<div>
    <label for="selectAll"></label>
    <input type="checkbox" name="selectAll" id="selectAll" value="selectAll"/>
    selectAll
</div>
<div>
    <input type="checkbox" name="language" value="Java"/>
    Java
    <input type="checkbox" name="language" value="Js"/>
    Js
    <input type="checkbox" name="language" value="Python"/>
    Python
    <input type="checkbox" name="language" value="C++"/>
    C++
</div>
<div>
    <input type="button" id="selectAllBtn" value="全选"/>
    <input type="button" id="unSelectAllBtn" value="全不选"/>
    <input type="button" id="fanxuan" value="反选"/>
</div>
<script>

    // 获取所有的checkBox的DOM
    const langDoms = document.getElementsByName("language");
    const selectAllBoxDom = document.getElementById("selectAll");
    const selectAllBtnDom = document.getElementById("selectAllBtn");
    const unselectAllBtnDom = document.getElementById("unSelectAllBtn");

    // 全选按钮
    selectAllBtnDom.onclick = function () {
        for (let i = 0; i < langDoms.length; i++) {
            langDoms[i].checked = true;
        }
        selectAllBoxDom.checked = true;
    }

    // 全不选按钮
    unselectAllBtnDom.onclick = function () {
        for (let i = 0; i < langDoms.length; i++) {
            langDoms[i].checked = false;
        }
        selectAllBoxDom.checked = false;
    }

    // 全选CheckBox
    selectAllBoxDom.onclick = function () {
        let checked = true;
        for (let i = 0; i < langDoms.length; i++) {
            if (!langDoms[i].checked) {
                checked = false;
            }
        }
        for (let i = 0; i < langDoms.length; i++) {
            langDoms[i].checked = !checked;
        }
    }

    langDoms.forEach(e => {
        e.onclick = function () {
            let siblings = this.parentNode.children;
            let selectedOthers = true;
            for (let i = 0; i < siblings.length; i++) {
                if (!siblings[i].checked) {
                    selectedOthers = siblings[i].checked;
                }
            }
            selectAllBoxDom.checked = selectedOthers;
        }
    });
</script>
</body>
</html>